{"version":3,"file":"dashboard.element-ZbnDM_Jx.js","sources":["../../../Client/src/api/sdk.gen.ts","../../../Client/src/dashboards/dashboard.element.ts"],"sourcesContent":["// This file is auto-generated by @hey-api/openapi-ts\n\nimport type { Client, Options as Options2, TDataShape } from './client';\nimport { client } from './client.gen';\nimport type { GetFromFrontendData, GetFromFrontendErrors, GetFromFrontendResponses, GetFromHybridData, GetFromHybridErrors, GetFromHybridResponses, GetFromUmbracoData, GetFromUmbracoErrors, GetFromUmbracoResponses, GetLanguagesData, GetLanguagesErrors, GetLanguagesResponses, SaveDictionaryItemData, SaveDictionaryItemErrors, SaveDictionaryItemResponses } from './types.gen';\n\nexport type Options<TData extends TDataShape = TDataShape, ThrowOnError extends boolean = boolean> = Options2<TData, ThrowOnError> & {\n    /**\n     * You can provide a client instance returned by `createClient()` instead of\n     * individual options. This might be also useful if you want to implement a\n     * custom client.\n     */\n    client?: Client;\n    /**\n     * You can pass arbitrary values through the `meta` object. This can be\n     * used to access values that aren't defined as part of the SDK function.\n     */\n    meta?: Record<string, unknown>;\n};\n\nexport class CharlieTangoUmbracoTranslationsService {\n    public static getFromUmbraco<ThrowOnError extends boolean = false>(options?: Options<GetFromUmbracoData, ThrowOnError>) {\n        return (options?.client ?? client).get<GetFromUmbracoResponses, GetFromUmbracoErrors, ThrowOnError>({\n            security: [\n                {\n                    scheme: 'bearer',\n                    type: 'http'\n                }\n            ],\n            url: '/umbraco/umbracotranslations/api/v1/cms',\n            ...options\n        });\n    }\n    \n    public static saveDictionaryItem<ThrowOnError extends boolean = false>(options?: Options<SaveDictionaryItemData, ThrowOnError>) {\n        return (options?.client ?? client).post<SaveDictionaryItemResponses, SaveDictionaryItemErrors, ThrowOnError>({\n            security: [\n                {\n                    scheme: 'bearer',\n                    type: 'http'\n                }\n            ],\n            url: '/umbraco/umbracotranslations/api/v1/dictionary',\n            ...options,\n            headers: {\n                'Content-Type': 'application/json',\n                ...options?.headers\n            }\n        });\n    }\n    \n    public static getFromFrontend<ThrowOnError extends boolean = false>(options?: Options<GetFromFrontendData, ThrowOnError>) {\n        return (options?.client ?? client).get<GetFromFrontendResponses, GetFromFrontendErrors, ThrowOnError>({\n            security: [\n                {\n                    scheme: 'bearer',\n                    type: 'http'\n                }\n            ],\n            url: '/umbraco/umbracotranslations/api/v1/frontend',\n            ...options\n        });\n    }\n    \n    public static getFromHybrid<ThrowOnError extends boolean = false>(options?: Options<GetFromHybridData, ThrowOnError>) {\n        return (options?.client ?? client).get<GetFromHybridResponses, GetFromHybridErrors, ThrowOnError>({\n            security: [\n                {\n                    scheme: 'bearer',\n                    type: 'http'\n                }\n            ],\n            url: '/umbraco/umbracotranslations/api/v1/hybrid',\n            ...options\n        });\n    }\n    \n    public static getLanguages<ThrowOnError extends boolean = false>(options?: Options<GetLanguagesData, ThrowOnError>) {\n        return (options?.client ?? client).get<GetLanguagesResponses, GetLanguagesErrors, ThrowOnError>({\n            security: [\n                {\n                    scheme: 'bearer',\n                    type: 'http'\n                }\n            ],\n            url: '/umbraco/umbracotranslations/api/v1/languages',\n            ...options\n        });\n    }\n}\n","import { LitElement, css, html, customElement, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbElementMixin } from '@umbraco-cms/backoffice/element-api';\r\nimport { tryExecute } from '@umbraco-cms/backoffice/resources';\r\nimport { CharlieTangoUmbracoTranslationsService } from '../api/sdk.gen.ts';\r\n\r\ntype DictionaryResponse = Record<string, Record<string, string>>;\r\n\r\ntype DictionaryRow = {\r\n  key: string;\r\n  frontendValue: string;\r\n};\r\n\r\n@customElement('example-dashboard')\r\nexport class ExampleDashboardElement extends UmbElementMixin(LitElement) {\r\n  @state()\r\n  private _rows: DictionaryRow[] = [];\r\n\r\n  @state()\r\n  private _languages: string[] = [];\r\n\r\n  private _frontendData: DictionaryResponse = {};\r\n  private _umbracoData: DictionaryResponse = {};\r\n\r\n  private _defaultLanguage?: string;\r\n\r\n  @state()\r\n  private _editingById: Record<string, boolean> = {};\r\n\r\n  @state()\r\n  private _draftById: Record<string, Record<string, string>> = {};\r\n\r\n  @state()\r\n  private _savingById: Record<string, boolean> = {};\r\n\r\n  @state()\r\n  private _rowErrorsById: Record<string, string | undefined> = {};\r\n\r\n  @state()\r\n  private _loading = false;\r\n\r\n  @state()\r\n  private _error?: string;\r\n\r\n  @state()\r\n  private _filterText = '';\r\n\r\n  connectedCallback(): void {\r\n    super.connectedCallback();\r\n    void this._load();\r\n  }\r\n\r\n  private async _load() {\r\n    this._loading = true;\r\n    this._error = undefined;\r\n\r\n    const [languagesResult, frontendResult, umbracoResult] = await Promise.all([\r\n      tryExecute(this, CharlieTangoUmbracoTranslationsService.getLanguages()),\r\n      tryExecute(this, CharlieTangoUmbracoTranslationsService.getFromFrontend()),\r\n      tryExecute(this, CharlieTangoUmbracoTranslationsService.getFromUmbraco()),\r\n    ]);\r\n\r\n    if (!languagesResult.data) {\r\n      this._loading = false;\r\n      this._error = languagesResult.error?.message ?? 'Failed to load languages.';\r\n      return;\r\n    }\r\n\r\n    if (!frontendResult.data) {\r\n      this._loading = false;\r\n      this._error = frontendResult.error?.message ?? 'Failed to load frontend dictionary items.';\r\n      return;\r\n    }\r\n\r\n    this._languages = (languagesResult.data ?? []) as string[];\r\n    this._defaultLanguage = this._languages[0];\r\n\r\n    this._frontendData = frontendResult.data as DictionaryResponse;\r\n    this._umbracoData = (umbracoResult.data ?? {}) as DictionaryResponse;\r\n\r\n    this._rows = this._buildRows();\r\n    this._editingById = {};\r\n    this._draftById = {};\r\n    this._savingById = {};\r\n    this._rowErrorsById = {};\r\n    this._loading = false;\r\n  }\r\n\r\n  private _buildRows() {\r\n    const rows: DictionaryRow[] = [];\r\n    const allKeys = new Set<string>();\r\n\r\n    for (const cultureDictionary of Object.values(this._frontendData)) {\r\n      for (const key of Object.keys(cultureDictionary)) {\r\n        allKeys.add(key);\r\n      }\r\n    }\r\n\r\n    const defaultCultureDictionary = this._defaultLanguage\r\n      ? this._frontendData[this._defaultLanguage] ?? {}\r\n      : {};\r\n\r\n    for (const key of allKeys) {\r\n      rows.push({\r\n        key,\r\n        frontendValue: String(defaultCultureDictionary[key] ?? ''),\r\n      });\r\n    }\r\n\r\n    rows.sort((left, right) => {\r\n      return left.key.localeCompare(right.key);\r\n    });\r\n\r\n    return rows;\r\n  }\r\n\r\n  private _getRowId(row: DictionaryRow) {\r\n    return row.key;\r\n  }\r\n\r\n  private _getFrontendValue(key: string, language: string) {\r\n    return String(this._frontendData[language]?.[key] ?? '');\r\n  }\r\n\r\n  private _getUmbracoValue(key: string, language: string) {\r\n    return String(this._umbracoData[language]?.[key] ?? '');\r\n  }\r\n\r\n  private _isMissingUmbracoValue(key: string, language: string) {\r\n    const value = this._getUmbracoValue(key, language);\r\n    return value.trim().length === 0;\r\n  }\r\n\r\n  private _startOverride(row: DictionaryRow) {\r\n    const rowId = this._getRowId(row);\r\n    this._editingById = { ...this._editingById, [rowId]: true };\r\n    if (!this._draftById[rowId]) {\r\n      const drafts: Record<string, string> = {};\r\n      for (const language of this._languages) {\r\n        drafts[language] = this._getFrontendValue(row.key, language);\r\n      }\r\n      this._draftById = { ...this._draftById, [rowId]: drafts };\r\n    }\r\n    this._rowErrorsById = { ...this._rowErrorsById, [rowId]: undefined };\r\n  }\r\n\r\n  private _startEdit(row: DictionaryRow) {\r\n    const rowId = this._getRowId(row);\r\n    this._editingById = { ...this._editingById, [rowId]: true };\r\n    const drafts: Record<string, string> = {};\r\n    for (const language of this._languages) {\r\n      drafts[language] = this._getUmbracoValue(row.key, language);\r\n    }\r\n    this._draftById = { ...this._draftById, [rowId]: drafts };\r\n    this._rowErrorsById = { ...this._rowErrorsById, [rowId]: undefined };\r\n  }\r\n  private _cancelOverride(row: DictionaryRow) {\r\n    const rowId = this._getRowId(row);\r\n    const updatedEditing = { ...this._editingById };\r\n    delete updatedEditing[rowId];\r\n    this._editingById = updatedEditing;\r\n\r\n    const updatedDrafts = { ...this._draftById };\r\n    delete updatedDrafts[rowId];\r\n    this._draftById = updatedDrafts;\r\n\r\n    const updatedErrors = { ...this._rowErrorsById };\r\n    delete updatedErrors[rowId];\r\n    this._rowErrorsById = updatedErrors;\r\n  }\r\n\r\n  private _onDraftChange(row: DictionaryRow, language: string, event: Event) {\r\n    const target = event.target as HTMLInputElement | null;\r\n    const value = target?.value ?? '';\r\n    const rowId = this._getRowId(row);\r\n    const currentDrafts = this._draftById[rowId] ?? {};\r\n    this._draftById = {\r\n      ...this._draftById,\r\n      [rowId]: { ...currentDrafts, [language]: value },\r\n    };\r\n  }\r\n\r\n  private async _saveOverride(row: DictionaryRow) {\r\n    const rowId = this._getRowId(row);\r\n    const drafts = this._draftById[rowId] ?? {};\r\n\r\n    for (const language of this._languages) {\r\n      const value = (drafts[language] ?? '').trim();\r\n      if (!value) {\r\n        this._rowErrorsById = {\r\n          ...this._rowErrorsById,\r\n          [rowId]: `Value is required for ${language}.`,\r\n        };\r\n        return;\r\n      }\r\n    }\r\n\r\n    this._savingById = { ...this._savingById, [rowId]: true };\r\n    this._rowErrorsById = { ...this._rowErrorsById, [rowId]: undefined };\r\n\r\n    for (const language of this._languages) {\r\n      const result = await tryExecute(\r\n        this,\r\n        CharlieTangoUmbracoTranslationsService.saveDictionaryItem({\r\n          body: {\r\n            key: row.key,\r\n            culture: language,\r\n            value: (drafts[language] ?? '').trim(),\r\n          },\r\n        })\r\n      );\r\n\r\n      if (!result.data) {\r\n        this._rowErrorsById = {\r\n          ...this._rowErrorsById,\r\n          [rowId]: result.error?.message ?? 'Failed to save dictionary item.',\r\n        };\r\n        this._savingById = { ...this._savingById, [rowId]: false };\r\n        return;\r\n      }\r\n    }\r\n\r\n    const updatedUmbracoData = { ...this._umbracoData };\r\n    for (const language of this._languages) {\r\n      updatedUmbracoData[language] = {\r\n        ...(updatedUmbracoData[language] ?? {}),\r\n        [row.key]: (drafts[language] ?? '').trim(),\r\n      };\r\n    }\r\n    this._umbracoData = updatedUmbracoData;\r\n\r\n    const updatedEditing = { ...this._editingById };\r\n    delete updatedEditing[rowId];\r\n    this._editingById = updatedEditing;\r\n\r\n    const updatedSaving = { ...this._savingById };\r\n    delete updatedSaving[rowId];\r\n    this._savingById = updatedSaving;\r\n\r\n    const updatedDrafts = { ...this._draftById };\r\n    delete updatedDrafts[rowId];\r\n    this._draftById = updatedDrafts;\r\n\r\n    const updatedErrors = { ...this._rowErrorsById };\r\n    delete updatedErrors[rowId];\r\n    this._rowErrorsById = updatedErrors;\r\n  }\r\n\r\n  render() {\r\n    const filter = this._filterText.trim().toLowerCase();\r\n    const filteredRows = filter\r\n      ? this._rows.filter(\r\n          (row) =>\r\n            row.key.toLowerCase().includes(filter) ||\r\n            row.frontendValue.toLowerCase().includes(filter)\r\n        )\r\n      : this._rows;\r\n\r\n    return html`\r\n      <uui-box headline=\"Dictionary Items\">\r\n        <div class=\"table-actions\">\r\n          <input\r\n            class=\"filter-input\"\r\n            type=\"text\"\r\n            placeholder=\"Filter by key or value\"\r\n            .value=${this._filterText}\r\n            @input=${(event: Event) => {\r\n              const target = event.target as HTMLInputElement | null;\r\n              this._filterText = target?.value ?? '';\r\n            }}\r\n          />\r\n          <uui-button\r\n            look=\"primary\"\r\n            ?disabled=${this._loading}\r\n            @click=${() => this._load()}\r\n          >\r\n            ${this._loading ? 'Loading...' : 'Refresh'}\r\n          </uui-button>\r\n        </div>\r\n\r\n        ${this._error\r\n          ? html`<p class=\"error\">${this._error}</p>`\r\n          : html`\r\n              <div class=\"table-wrapper\">\r\n                <table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Frontend Value</th>\r\n                      ${this._languages.map(\r\n                        (language) => html`<th>Umbraco ${language}</th>`\r\n                      )}\r\n                      <th class=\"override-actions\">Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    ${filteredRows.map(\r\n                      (row) => {\r\n                        const rowId = this._getRowId(row);\r\n                        const isEditing = Boolean(this._editingById[rowId]);\r\n                        const isSaving = Boolean(this._savingById[rowId]);\r\n                        const rowError = this._rowErrorsById[rowId];\r\n                        const hasMissingUmbraco = this._languages.some((language) =>\r\n                          this._isMissingUmbracoValue(row.key, language)\r\n                        );\r\n                        const hasAnyUmbracoValue = this._languages.some((language) =>\r\n                          !this._isMissingUmbracoValue(row.key, language)\r\n                        );\r\n\r\n                        return html`\r\n                          <tr>\r\n                            <td title=${row.key}>${row.frontendValue}</td>\r\n                            ${this._languages.map((language) => {\r\n                              const umbracoValueMissing = this._isMissingUmbracoValue(row.key, language);\r\n                              const umbracoValue = this._getUmbracoValue(row.key, language);\r\n                              const draftValue = this._draftById[rowId]?.[language] ?? '';\r\n\r\n                              return html`\r\n                                <td>\r\n                                  ${isEditing\r\n                                    ? html`\r\n                                        <div class=\"override-row\">\r\n                                          <input\r\n                                            type=\"text\"\r\n                                            .value=${draftValue}\r\n                                            ?disabled=${isSaving}\r\n                                            @input=${(event: Event) =>\r\n                                              this._onDraftChange(row, language, event)}\r\n                                          />\r\n                                        </div>\r\n                                      `\r\n                                    : umbracoValueMissing\r\n                                      ? html`\r\n                                          <span class=\"empty\">-</span>\r\n                                        `\r\n                                      : html`${umbracoValue}`}\r\n                                </td>\r\n                              `;\r\n                            })}\r\n                            <td>\r\n                              ${isEditing\r\n                                ? html`\r\n                                    <uui-button\r\n                                      look=\"primary\"\r\n                                      ?disabled=${isSaving}\r\n                                      @click=${() => this._saveOverride(row)}\r\n                                    >\r\n                                      ${isSaving ? 'Saving...' : 'Save'}\r\n                                    </uui-button>\r\n                                    <uui-button\r\n                                      look=\"secondary\"\r\n                                      ?disabled=${isSaving}\r\n                                      @click=${() => this._cancelOverride(row)}\r\n                                    >\r\n                                      Cancel\r\n                                    </uui-button>\r\n                                    ${rowError ? html`<p class=\"row-error\">${rowError}</p>` : null}\r\n                                  `\r\n                                : html`\r\n                                    ${hasMissingUmbraco\r\n                                      ? html`\r\n                                          <uui-button\r\n                                            look=\"primary\"\r\n                                            @click=${() => this._startOverride(row)}\r\n                                          >\r\n                                            Override\r\n                                          </uui-button>\r\n                                        `\r\n                                      : null}\r\n                                    ${!hasMissingUmbraco && hasAnyUmbracoValue\r\n                                      ? html`\r\n                                          <uui-button\r\n                                            look=\"primary\"\r\n                                            @click=${() => this._startEdit(row)}\r\n                                          >\r\n                                            Edit\r\n                                          </uui-button>\r\n                                        `\r\n                                      : null}\r\n                                    ${rowError ? html`<p class=\"row-error\">${rowError}</p>` : null}\r\n                                  `}\r\n                            </td>\r\n                          </tr>\r\n                        `;\r\n                      }\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              ${filteredRows.length === 0\r\n                ? html`<p class=\"empty\">No items match the current filter.</p>`\r\n                : null}\r\n            `}\r\n      </uui-box>\r\n    `;\r\n  }\r\n\r\n  static styles = [\r\n    css`\r\n      :host {\r\n        display: block;\r\n        padding: var(--uui-size-layout-1);\r\n      }\r\n\r\n      .table-actions {\r\n        display: flex;\r\n        gap: var(--uui-size-2);\r\n        justify-content: flex-end;\r\n        margin-bottom: var(--uui-size-2);\r\n      }\r\n\r\n      .filter-input {\r\n        min-width: 240px;\r\n        padding: var(--uui-size-1) var(--uui-size-2);\r\n        border-radius: var(--uui-border-radius);\r\n        border: 1px solid var(--uui-color-border);\r\n        background: var(--uui-color-surface);\r\n        color: inherit;\r\n        font: inherit;\r\n      }\r\n\r\n      .table-wrapper {\r\n        overflow: auto;\r\n        border: 1px solid var(--uui-color-border);\r\n        border-radius: var(--uui-border-radius);\r\n      }\r\n\r\n      table {\r\n        width: 100%;\r\n        border-collapse: collapse;\r\n        background: var(--uui-color-surface);\r\n        table-layout: fixed;\r\n      }\r\n\r\n      thead {\r\n        background: var(--uui-color-surface-alt);\r\n      }\r\n\r\n      th,\r\n      td {\r\n        text-align: left;\r\n        padding: var(--uui-size-2) var(--uui-size-3);\r\n        border-bottom: 1px solid var(--uui-color-border);\r\n        white-space: normal;\r\n        word-break: break-word;\r\n        overflow-wrap: anywhere;\r\n        vertical-align: top;\r\n        max-width: 280px;\r\n      }\r\n\r\n      td {\r\n        font-family: var(--uui-font-family);\r\n      }\r\n\r\n      .override-row {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: var(--uui-size-2);\r\n        flex-wrap: wrap;\r\n      }\r\n\r\n      .override-row input {\r\n        min-width: 220px;\r\n        padding: var(--uui-size-1) var(--uui-size-2);\r\n        border-radius: var(--uui-border-radius);\r\n        border: 1px solid var(--uui-color-border);\r\n        background: var(--uui-color-surface);\r\n        color: inherit;\r\n        font: inherit;\r\n      }\r\n\r\n      .row-error {\r\n        margin: var(--uui-size-1) 0 0;\r\n        color: var(--uui-color-danger);\r\n        font-size: var(--uui-font-size-1);\r\n      }\r\n\r\n      .override-actions {\r\n        width: 160px;\r\n      }\r\n\r\n      tbody tr:hover {\r\n        background: var(--uui-color-surface-alt);\r\n      }\r\n\r\n      .error {\r\n        color: var(--uui-color-danger);\r\n        margin: 0;\r\n      }\r\n\r\n      .empty {\r\n        color: var(--uui-color-text-alt);\r\n      }\r\n    `,\r\n  ];\r\n}\r\n\r\nexport default ExampleDashboardElement;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    'example-dashboard': ExampleDashboardElement;\r\n  }\r\n}\r\n"],"names":["CharlieTangoUmbracoTranslationsService","options","client","ExampleDashboardElement","UmbElementMixin","LitElement","languagesResult","frontendResult","umbracoResult","tryExecute","rows","allKeys","cultureDictionary","key","defaultCultureDictionary","left","right","row","language","rowId","drafts","updatedEditing","updatedDrafts","updatedErrors","event","value","currentDrafts","result","updatedUmbracoData","updatedSaving","filter","filteredRows","html","target","isEditing","isSaving","rowError","hasMissingUmbraco","hasAnyUmbracoValue","umbracoValueMissing","umbracoValue","draftValue","css","__decorateClass","state","customElement","ExampleDashboardElement_default"],"mappings":"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"}